From 4bba0780bb9442a11f80d7cb1161ced1f1179532 Mon Sep 17 00:00:00 2001
From: md_5 <md_5@live.com.au>
Date: Thu, 14 Mar 2013 20:37:25 +1100
Subject: [PATCH] Debug for Event Exceptions.

---
 src/main/java/org/bukkit/plugin/java/JavaPluginLoader.java | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/src/main/java/org/bukkit/plugin/java/JavaPluginLoader.java b/src/main/java/org/bukkit/plugin/java/JavaPluginLoader.java
index 9c7288e..2477391 100644
--- a/src/main/java/org/bukkit/plugin/java/JavaPluginLoader.java
+++ b/src/main/java/org/bukkit/plugin/java/JavaPluginLoader.java
@@ -424,8 +424,14 @@ public class JavaPluginLoader implements PluginLoader {
                         }
                         method.invoke(listener, event);
                     } catch (InvocationTargetException ex) {
+                        server.getLogger().warning("==== Start Spigot Debug ===");
+                        ex.printStackTrace();
+                        server.getLogger().warning("==== End Spigot Debug ===");
                         throw new EventException(ex.getCause());
                     } catch (Throwable t) {
+                        server.getLogger().warning("==== Start Spigot Debug ===");
+                        t.printStackTrace();
+                        server.getLogger().warning("==== End Spigot Debug ===");
                         throw new EventException(t);
                     }
                 }
-- 
1.8.1-rc2

