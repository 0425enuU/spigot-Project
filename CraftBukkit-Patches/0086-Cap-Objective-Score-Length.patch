From d656bc9867aad82a78a316a4c2f6e59e49bdd2dc Mon Sep 17 00:00:00 2001
From: hauno <imhauno@gmail.com>
Date: Tue, 6 May 2014 18:01:37 -0700
Subject: [PATCH] Cap Objective Score Length

Adds a check for Score arguments that would crash the client

diff --git a/src/main/java/org/bukkit/craftbukkit/scoreboard/CraftObjective.java b/src/main/java/org/bukkit/craftbukkit/scoreboard/CraftObjective.java
index 0ef48af0d..9b2c23e53 100644
--- a/src/main/java/org/bukkit/craftbukkit/scoreboard/CraftObjective.java
+++ b/src/main/java/org/bukkit/craftbukkit/scoreboard/CraftObjective.java
@@ -95,6 +95,7 @@ final class CraftObjective extends CraftScoreboardComponent implements Objective
 
     public Score getScore(String entry) throws IllegalArgumentException, IllegalStateException {
         Validate.notNull(entry, "Entry cannot be null");
+        if (entry.length() > 40) throw new IllegalArgumentException("Entry cannot be longer than 40 characters!"); // Spigot
         CraftScoreboard scoreboard = checkState();
 
         return new CraftScore(this, entry);
-- 
2.17.1

