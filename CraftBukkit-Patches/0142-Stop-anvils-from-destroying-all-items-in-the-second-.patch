From 7ae6acfc6b64a79f58ff5fda931a7a8762116173 Mon Sep 17 00:00:00 2001
From: David <dmck2b@gmail.com>
Date: Wed, 23 Apr 2014 01:01:47 +0100
Subject: [PATCH] Stop anvils from destroying all items in the second slot

While this may allow multiple stacked items to be repaired at once, it's better than eating all of a user's items.

diff --git a/src/main/java/net/minecraft/server/ContainerAnvilInventory.java b/src/main/java/net/minecraft/server/ContainerAnvilInventory.java
index 1afa6e7..d975b44 100644
--- a/src/main/java/net/minecraft/server/ContainerAnvilInventory.java
+++ b/src/main/java/net/minecraft/server/ContainerAnvilInventory.java
@@ -43,7 +43,7 @@ public class ContainerAnvilInventory extends InventorySubcontainer { // CraftBuk
     ContainerAnvilInventory(ContainerAnvil containeranvil, String s, boolean flag, int i) {
         super(s, flag, i);
         this.a = containeranvil;
-        this.setMaxStackSize(1); // CraftBukkit
+        // Spigot - Removed this.setMaxStackSize(1); // CraftBukkit
     }
 
     // CraftBukkit start - override inherited maxStack from InventorySubcontainer
-- 
1.8.3.2

