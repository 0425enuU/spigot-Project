From 8b2025cdcc8dd48c864b35da84e170674a3a7ae8 Mon Sep 17 00:00:00 2001
From: Thinkofdeath <thethinkofdeath@gmail.com>
Date: Thu, 30 Jan 2014 20:39:07 +0000
Subject: [PATCH] Correctly set arrows' current block


diff --git a/src/main/java/net/minecraft/server/EntityArrow.java b/src/main/java/net/minecraft/server/EntityArrow.java
index a49519b..49e61aa 100644
--- a/src/main/java/net/minecraft/server/EntityArrow.java
+++ b/src/main/java/net/minecraft/server/EntityArrow.java
@@ -277,7 +277,7 @@ public class EntityArrow extends Entity implements IProjectile {
                     this.d = movingobjectposition.b;
                     this.e = movingobjectposition.c;
                     this.f = movingobjectposition.d;
-                    this.g = block;
+                    this.g = this.world.getType( this.d, this.e, this.f ); // Spigot - Set to correct block
                     this.h = this.world.getData(this.d, this.e, this.f);
                     this.motX = (double) ((float) (movingobjectposition.pos.c - this.locX));
                     this.motY = (double) ((float) (movingobjectposition.pos.d - this.locY));
-- 
1.8.4.msysgit.0

