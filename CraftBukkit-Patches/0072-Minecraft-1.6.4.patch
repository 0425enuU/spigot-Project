From c36dc04659abb5954000ffbab02dd151a08db69a Mon Sep 17 00:00:00 2001
From: md_5 <md_5@live.com.au>
Date: Fri, 20 Sep 2013 08:25:33 +1000
Subject: [PATCH] Minecraft 1.6.4


diff --git a/src/main/java/net/minecraft/server/MinecraftServer.java b/src/main/java/net/minecraft/server/MinecraftServer.java
index d186e47..d6aa785 100644
--- a/src/main/java/net/minecraft/server/MinecraftServer.java
+++ b/src/main/java/net/minecraft/server/MinecraftServer.java
@@ -762,7 +762,7 @@ public abstract class MinecraftServer implements ICommandListener, Runnable, IMo
     }
 
     public String getVersion() {
-        return "1.6.2";
+        return "1.6.4";
     }
 
     public int A() {
diff --git a/src/main/java/net/minecraft/server/PendingConnection.java b/src/main/java/net/minecraft/server/PendingConnection.java
index a5c3104..37258ef 100644
--- a/src/main/java/net/minecraft/server/PendingConnection.java
+++ b/src/main/java/net/minecraft/server/PendingConnection.java
@@ -80,8 +80,8 @@ public class PendingConnection extends Connection {
         } else {
             PublicKey publickey = this.server.H().getPublic();
 
-            if (packet2handshake.d() != 74) {
-                if (packet2handshake.d() > 74) {
+            if (packet2handshake.d() != 7) {
+                if (packet2handshake.d() > 78) {
                     this.disconnect(org.spigotmc.SpigotConfig.outdatedServerMessage); // Spigot
                 } else {
                     this.disconnect(org.spigotmc.SpigotConfig.outdatedClientMessage); // Spigot
@@ -160,7 +160,7 @@ public class PendingConnection extends Connection {
                 s = pingEvent.getMotd() + "\u00A7" + playerlist.getPlayerCount() + "\u00A7" + pingEvent.getMaxPlayers();
             } else {
                 // CraftBukkit start - Don't create a list from an array
-                Object[] list = new Object[] { 1, 74, this.server.getVersion(), pingEvent.getMotd(), playerlist.getPlayerCount(), pingEvent.getMaxPlayers() };
+                Object[] list = new Object[] { 1, 78, this.server.getVersion(), pingEvent.getMotd(), playerlist.getPlayerCount(), pingEvent.getMaxPlayers() };
 
                 StringBuilder builder = new StringBuilder();
                 for (Object object : list) {
-- 
1.8.1.2

