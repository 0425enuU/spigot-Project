From 8f76f3c29c592374285a236359c113f952780a2c Mon Sep 17 00:00:00 2001
From: md_5 <git@md-5.net>
Date: Mon, 23 Dec 2013 20:19:13 +1100
Subject: [PATCH] Revert "Check pending blocks before falling back to world.
 Fixes BUKKIT-5122"

This reverts commit 2d00e467b3a06b5c29ff88cbd1317488ee8eb3ce.

diff --git a/src/main/java/org/bukkit/craftbukkit/util/StructureGrowDelegate.java b/src/main/java/org/bukkit/craftbukkit/util/StructureGrowDelegate.java
index bb6a579..6566b9e 100644
--- a/src/main/java/org/bukkit/craftbukkit/util/StructureGrowDelegate.java
+++ b/src/main/java/org/bukkit/craftbukkit/util/StructureGrowDelegate.java
@@ -3,8 +3,6 @@ package org.bukkit.craftbukkit.util;
 import java.util.ArrayList;
 import java.util.List;
 
-import net.minecraft.server.Block;
-import net.minecraft.server.Blocks;
 import net.minecraft.server.World;
 
 import org.bukkit.BlockChangeDelegate;
@@ -41,12 +39,6 @@ public class StructureGrowDelegate implements BlockChangeDelegate {
     }
 
     public int getTypeId(int x, int y, int z) {
-        for (BlockState state : blocks) {
-            if (state.getX() == x && state.getY() == y && state.getZ() == z) {
-                return state.getTypeId();
-            }
-        }
-
         return world.getBlockTypeIdAt(x, y, z);
     }
 
@@ -59,12 +51,6 @@ public class StructureGrowDelegate implements BlockChangeDelegate {
     }
 
     public boolean isEmpty(int x, int y, int z) {
-        for (BlockState state : blocks) {
-            if (state.getX() == x && state.getY() == y && state.getZ() == z) {
-                return Block.e(state.getTypeId()) == Blocks.AIR;
-            }
-        }
-
         return world.getBlockAt(x, y, z).isEmpty();
     }
 }
-- 
1.8.3.2

